<style>
.icon-text-section {
  background: {{ section.settings.bg_color }};
  padding: {{ section.settings.section_padding }}px {{ section.settings.section_padding_side }}px;
  text-align: {{ section.settings.text_alignment }};
}

.icon-text-heading {
  max-width: 800px;
  margin: 0 auto {{ section.settings.heading_margin_bottom }}px;
}

.icon-text-heading h2 {
  font-size: {{ section.settings.heading_size }}px;
  line-height: {{ section.settings.heading_line_height }};
  font-weight: {{ section.settings.heading_weight }};
  color: {{ section.settings.heading_color }};
  margin-bottom: {{ section.settings.subheading_margin_bottom }}px;
  text-align: {{ section.settings.text_alignment }};
}

.icon-text-heading p {
  font-size: {{ section.settings.subheading_size }}px;
  line-height: {{ section.settings.subheading_line_height }};
  color: {{ section.settings.subheading_color }};
  text-align: {{ section.settings.text_alignment }};
  margin-bottom: {{ section.settings.subheading_margin_bottom }}px;
}

.icon-text-wrapper {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax({{ section.settings.min_col_width }}px, 1fr));
  gap: {{ section.settings.item_gap }}px;
  max-width: 1200px;
  margin: 0 auto;
}

.icon-text-item {
  text-align: {{ section.settings.item_alignment }};
  padding: {{ section.settings.item_padding }}px;
  background: {{ section.settings.item_bg }};
  border-radius: {{ section.settings.item_radius }}px;
  transition: 0.3s;
}
.icon-text-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
}

.icon-text-item img {
  width: {{ section.settings.icon_size }}px;
  height: {{ section.settings.icon_size }}px;
  object-fit: contain;
  margin-bottom: {{ section.settings.icon_spacing }}px;
}

.icon-text-item h3 {
  font-size: {{ section.settings.title_size }}px;
  color: {{ section.settings.title_color }};
  font-weight: {{ section.settings.title_weight }};
  margin-bottom: 8px;
}

.icon-text-item p {
  font-size: {{ section.settings.desc_size }}px;
  color: {{ section.settings.desc_color }};
  line-height: {{ section.settings.desc_line_height }};
}
</style>

<div class="icon-text-section">
  <div class="icon-text-heading">
    {% if section.settings.heading != blank %}
      <h2>{{ section.settings.heading }}</h2>
    {% endif %}

    {% if section.settings.subheading != blank %}
      <p>{{ section.settings.subheading }}</p>
    {% endif %}
  </div>

  <div class="icon-text-wrapper">
    {% for block in section.blocks %}
      <div class="icon-text-item" {{ block.shopify_attributes }}>
        {% if block.settings.icon %}
          <img src="{{ block.settings.icon | image_url: width: 100 }}" alt="{{ block.settings.title }}">
        {% endif %}
        <h3 style="color: {{ block.settings.title_color }}">{{ block.settings.title }}</h3>
        <p style="color: {{ block.settings.desc_color }}">{{ block.settings.desc }}</p>
      </div>
    {% endfor %}
  </div>
</div>

{% schema %}
{
  "name": "Icon + Text Group",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Our Features" },
    { "type": "range", "id": "heading_size", "label": "Heading Font Size", "min": 12, "max": 60, "step": 1, "default": 28 },
    { "type": "text", "id": "heading_line_height", "label": "Heading Line Height", "default": "1.3" },
    { "type": "select", "id": "heading_weight", "label": "Heading Font Weight", "default": "700", "options": [
      { "value": "400", "label": "Normal" },
      { "value": "600", "label": "Semi Bold" },
      { "value": "700", "label": "Bold" }
    ]},
    { "type": "color", "id": "heading_color", "label": "Heading Color", "default": "#000000" },
    { "type": "range", "id": "heading_margin_bottom", "label": "Heading Bottom Margin", "min": 0, "max": 100, "step": 5, "default": 20 },

    { "type": "textarea", "id": "subheading", "label": "Subheading (Paragraph)", "default": "This is a supporting description text that goes under the heading." },
    { "type": "range", "id": "subheading_size", "label": "Subheading Font Size", "min": 10, "max": 40, "step": 1, "default": 16 },
    { "type": "text", "id": "subheading_line_height", "label": "Subheading Line Height", "default": "1.6" },
    { "type": "color", "id": "subheading_color", "label": "Subheading Color", "default": "#555555" },
    { "type": "range", "id": "subheading_margin_bottom", "label": "Subheading Bottom Margin", "min": 0, "max": 100, "step": 5, "default": 30 },

    { "type": "color", "id": "bg_color", "label": "Section Background", "default": "#ffffff" },
    { "type": "range", "id": "section_padding", "label": "Padding Top/Bottom", "min": 0, "max": 100, "step": 5, "default": 40 },
    { "type": "range", "id": "section_padding_side", "label": "Padding Left/Right", "min": 0, "max": 100, "step": 5, "default": 20 },
    { "type": "select", "id": "text_alignment", "label": "Text Alignment", "default": "center", "options": [
      { "value": "left", "label": "Left" },
      { "value": "center", "label": "Center" },
      { "value": "right", "label": "Right" }
    ]},

    { "type": "range", "id": "min_col_width", "label": "Minimum Column Width", "min": 150, "max": 400, "step": 10, "default": 220 },
    { "type": "range", "id": "item_gap", "label": "Items Gap", "min": 0, "max": 60, "step": 5, "default": 30 },
    { "type": "color", "id": "item_bg", "label": "Item Background", "default": "#ffffff" },
    { "type": "range", "id": "item_padding", "label": "Item Padding", "min": 0, "max": 60, "step": 5, "default": 20 },
    { "type": "range", "id": "item_radius", "label": "Item Border Radius", "min": 0, "max": 50, "step": 1, "default": 10 },

    { "type": "range", "id": "icon_size", "label": "Icon Size (px)", "min": 20, "max": 200, "step": 5, "default": 60 },
    { "type": "range", "id": "icon_spacing", "label": "Spacing Below Icon", "min": 0, "max": 50, "step": 1, "default": 15 },

    { "type": "range", "id": "title_size", "label": "Title Font Size", "min": 12, "max": 40, "step": 1, "default": 18 },
    { "type": "color", "id": "title_color", "label": "Title Color", "default": "#000000" },
    { "type": "select", "id": "title_weight", "label": "Title Weight", "default": "600", "options": [
      { "value": "400", "label": "Normal" },
      { "value": "600", "label": "Semi Bold" },
      { "value": "700", "label": "Bold" }
    ]},

    { "type": "range", "id": "desc_size", "label": "Description Font Size", "min": 10, "max": 30, "step": 1, "default": 14 },
    { "type": "color", "id": "desc_color", "label": "Description Color", "default": "#555555" },
    { "type": "text", "id": "desc_line_height", "label": "Description Line Height", "default": "1.6" },

    { "type": "select", "id": "item_alignment", "label": "Item Alignment", "default": "center", "options": [
      { "value": "left", "label": "Left" },
      { "value": "center", "label": "Center" },
      { "value": "right", "label": "Right" }
    ]}
  ],
  "blocks": [
    {
      "type": "icon_text",
      "name": "Icon + Text Item",
      "settings": [
        { "type": "image_picker", "id": "icon", "label": "Icon Image" },
        { "type": "text", "id": "title", "label": "Title", "default": "Feature Title" },
        { "type": "color", "id": "title_color", "label": "Title Color", "default": "#000000" },
        { "type": "textarea", "id": "desc", "label": "Description" },
        { "type": "color", "id": "desc_color", "label": "Description Color", "default": "#555555" }
      ]
    }
  ],
  "presets": [
    { "name": "Icon + Text Group", "category": "Custom" }
  ]
}
{% endschema %}
